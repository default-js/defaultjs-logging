{"version":3,"file":"module-bundle-defaultjs-logging.min.js","mappings":"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","sources":["webpack://@default-js/defaultjs-logging/webpack/bootstrap","webpack://@default-js/defaultjs-logging/webpack/runtime/define property getters","webpack://@default-js/defaultjs-logging/webpack/runtime/global","webpack://@default-js/defaultjs-logging/webpack/runtime/hasOwnProperty shorthand","webpack://@default-js/defaultjs-logging/webpack/runtime/make namespace object","webpack://@default-js/defaultjs-logging/./src/utils/DateUtils.js","webpack://@default-js/defaultjs-logging/./src/utils/index.js","webpack://@default-js/defaultjs-logging/./src/Appender.js","webpack://@default-js/defaultjs-logging/./src/LogLevel.js","webpack://@default-js/defaultjs-logging/./src/ConsoleAppender.js","webpack://@default-js/defaultjs-logging/./src/HtmlAppender.js","webpack://@default-js/defaultjs-logging/./src/MemoryAppender.js","webpack://@default-js/defaultjs-logging/./src/InteligentBrowserAppender.js","webpack://@default-js/defaultjs-logging/./src/Logger.js","webpack://@default-js/defaultjs-logging/./src/Config.js","webpack://@default-js/defaultjs-logging/./src/LoggerFactory.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const DateUtils = {\r\n\t\tdateAsString : function(aDate){\r\n\t\t\tif(!aDate instanceof Date)\r\n\t\t\t\treturn \"\";\r\n\t\t\t\r\n\t\t\tlet result = \"\";\r\n\t\t\t\r\n\t\t\tresult += aDate.getFullYear() + \".\";\r\n\t\t\tif(aDate.getMonth() < 10) \r\n\t\t\t\tresult += \"0\" + aDate.getMonth();\r\n\t\t\telse \r\n\t\t\t\tresult += aDate.getMonth();\r\n\t\t\tresult += \".\";\r\n\t\t\tif(aDate.getDate() < 10) \r\n\t\t\t\tresult += \"0\" + aDate.getDate();\r\n\t\t\telse \r\n\t\t\t\tresult += aDate.getDate();\t\t\r\n\t\t\tresult +=  \" \";\r\n\t\t\tif(aDate.getHours() < 10) \r\n\t\t\t\tresult += \"0\" + aDate.getHours();\r\n\t\t\telse \r\n\t\t\t\tresult += aDate.getHours();\r\n\t\t\tresult += \":\";\r\n\t\t\tif(aDate.getMinutes() < 10) \r\n\t\t\t\tresult += \"0\" + aDate.getMinutes();\r\n\t\t\telse \r\n\t\t\t\tresult += aDate.getMinutes();\r\n\t\t\tresult += \":\";\r\n\t\t\tif(aDate.getSeconds() < 10) \r\n\t\t\t\tresult += \"0\" + aDate.getSeconds();\r\n\t\t\telse \r\n\t\t\t\tresult += aDate.getSeconds();\r\n\t\t\tresult += \":\";\r\n\t\t\tif(aDate.getMilliseconds() < 10) \r\n\t\t\t\tresult += \"00\" + aDate.getMilliseconds();\r\n\t\t\tif(aDate.getMilliseconds() < 100) \r\n\t\t\t\tresult += \"0\" + aDate.getMilliseconds();\r\n\t\t\telse \r\n\t\t\t\tresult += aDate.getMilliseconds();\r\n\t\t\t\r\n\t\t\treturn result;\r\n\t\t}\r\n};\r\nexport default DateUtils;","import DateUtils from \"./DateUtils\";\r\nconst utils = {\r\n\t\tDateUtils : DateUtils\r\n};\r\nexport default utils;","const APPENDERS = new Map();\n\nexport default class Appender {\n\tstatic getAppender(name) {\n\t\treturn APPENDERS.get(name);\n\t}\n\n\tstatic register(name, appender) {\n\t\tAPPENDERS.set(name, appender);\n\t}\n\n\tconstructor() {}\n\n\tlogMessage(aMessage, anException, aLoggerName, aDate, aLogLevel) {}\n}\n","class Level {\r\n\tconstructor(aOrder, aTitle) {\r\n\t\tthis.order = aOrder;\r\n\t\tthis.title = aTitle;\r\n\t}\r\n\r\n\tisIncluded(aLogLevel) {\r\n\t\treturn this.order >= aLogLevel.order;\r\n\t}\r\n}\r\n\r\n\r\nexport const NOLOG = new Level(0, \"NOLOG\");\r\nexport const ERROR = new Level(1, \"ERROR\");\r\nexport const WARN = new Level(2, \"WARN\");\r\nexport const INFO = new Level(3, \"INFO\");\r\nexport const DEBUG = new Level(4, \"DEBUG\");\r\nexport const TRACE = new Level(5, \"TRACE\");\r\n\r\nconst LogLevel = {\r\n\tNOLOG,\r\n\tERROR,\r\n\tWARN,\r\n\tINFO,\r\n\tDEBUG,\r\n\tTRACE,\r\n\tlookup: (aLevel) => {\r\n\t\tif (typeof aLevel !== \"string\") return NOLOG;\r\n\t\treturn LogLevel[aLevel.toUpperCase()] || NOLOG;\r\n\t}\r\n};\r\nexport default LogLevel;\r\n\r\n","import Appender from \"./Appender\";\nimport LogLevel from \"./LogLevel\";\nimport DateUtils from \"./utils/DateUtils\";\n\n\nclass ConsoleAppender extends Appender{\n\tlogMessage (aMessage, anException, aLoggerName, aDate, aLogLevel){\n\t\tif (LogLevel.NOLOG == aLogLevel)\n\t\t\treturn;\n\t\tlet log = [];\n\t\tif (aDate)\n\t\t\tlog.push(DateUtils.dateAsString(aDate), \" \");\n\t\t\n\t\tlog.push(\"***\", aLogLevel.title, \"*** \", aLoggerName);\n\t\t\n\t\tif (aMessage) {\n\t\t\tlog.push(\" -> \");\n\t\t\tif (Array.isArray(aMessage))\n\t\t\t\tArray.prototype.push.apply(log, aMessage);\n\t\t\telse\n\t\t\t\tlog.push(aMessage);\n\t\t}\n\t\tif (anException)\n\t\t\tlog.push(\": \", anException);\n\t\t\n\t\tlet appender = console.log;\t\t\n\t\tif (LogLevel.ERROR == aLogLevel) \n\t\t\tappender = console.error; \n\t\telse if (LogLevel.WARN == aLogLevel)\n\t\t\tappender = console.warn;\n\t\telse if (LogLevel.INFO == aLogLevel)\n\t\t\tappender = console.info;\n\t\telse if (LogLevel.DEBUG == aLogLevel)\n\t\t\tappender = console.debug;\n\t\telse if (LogLevel.TRACE == aLogLevel)\n\t\t\tappender = console.trace;\n\t\t\n\t\tappender.apply(console, log);\t\n\t}\n}\n\nconst INSTANCE = new ConsoleAppender();\nAppender.register(\"ConsoleAppender\", INSTANCE);\nexport default INSTANCE;","import Appender from \"./Appender\";\nimport DateUtils from \"./utils/DateUtils\";\n\nconst CONTAINER = \"[data-log]\";\nclass HtmlAppender extends Appender {\n\tisAvailable() {\n\t\treturn !!document.querySelector(CONTAINER);\n\t}\n\tlogMessage(aMessage, anException, aLoggerName, aDate, aLogLevel) {\n\t\tconst container = document.querySelector(CONTAINER);\n\t\tif (!container) return;\n\n\t\tconst entry = document.createElement(\"div\");\n\t\tentry.setAttribute(\"class\", \"log-entry \" + aLogLevel.title);\n\t\tlet message = DateUtils.dateAsString(aDate || new Date()) + \" ***\" + aLogLevel.title + \"*** \" + aLoggerName + \"\";\n\n\t\tif (aMessage) message += \" -> \" + aMessage;\n\t\tif (anException) message += \": \" + anException;\n\n\t\tentry.textContent = message;\n\t\treturn container.appendChild(entry);\n\t}\n}\n\nconst INSTANCE = new HtmlAppender();\nAppender.register(\"HtmlAppender\", INSTANCE);\nexport default INSTANCE;\n","import Appender from \"./Appender\";\n\nconst GLOBAL = self || global || window || this || {};\nconst LOG = () => {\n\tif(!(GLOBAL.__LOG__ instanceof Array))\n\t\tGLOBAL.__LOG__ = [];\n\treturn GLOBAL.__LOG__;\n}  ;\n\n\n\nclass MemoryAppender extends Appender {\n\tlogMessage(aMessage, anException,aLoggerName, aDate, aLogLevel) {\n\t\tconst log = LOG();\t\t\n\t\tlog.push({\n\t\t\t\"date\" : aDate,\n\t\t\t\"logLevel\" : aLogLevel,\n\t\t\t\"loggerName\" : aLoggerName,\n\t\t\t\"message\" : aMessage,\n\t\t\t\"exception\" : anException\n\t\t});\n\t}\n}; \n\nconst INSTANCE = new MemoryAppender();\nAppender.register(\"MemoryAppender\", INSTANCE);\nexport default INSTANCE;\n","import Appender from \"./Appender\";\nimport HtmlAppender from \"./HtmlAppender\";\nimport ConsoleAppender from \"./ConsoleAppender\";\nimport MemoryAppender from \"./MemoryAppender\";\n\nlet appender;\nconst getAppender = () => {\n\tif (appender) {\t\t\n\t\tif (console)\n\t\t\tappender = ConsoleAppender;\n\t\telse if (HtmlAppender.isAvailable())\n\t\t\tappender = HtmlAppender;\n\t\telse\n\t\t\tappender = MemoryAppender;\n\t}\n\t\n\treturn appender;\n};\nclass IntelligentBrowserAppender extends Appender {\n\tlogMessage(aMessage, anException, aLoggerName, aDate, aLogLevel) {\n\t\tgetAppender().logMessage(aMessage, anException, aLoggerName, aDate, aLogLevel);\n\t}\n};\n\nconst INSTANCE = new IntelligentBrowserAppender();\nAppender.register(\"IntelligentBrowserAppender\", INSTANCE);\nexport default INSTANCE;\n","import LogLevel from \"./LogLevel\";\n\nclass Logger {\n\tconstructor(name, config) {\n\t\tthis.name = name;\n\t\tthis.__config__ = config;\n\t}\n\n\tget config() {\n\t\treturn this.__config__;\n\t}\n\n\tset config(config) {\n\t\tthis.__config__ = config;\n\t}\n\n\tlogError(aMessage, aException) {\n\t\treturn this.log(aMessage, aException, LogLevel.ERROR);\n\t}\n\n\tlogWarn(aMessage, aException) {\n\t\tthis.log(aMessage, aException, LogLevel.WARN);\n\t}\n\n\tlogInfo(aMessage, aException) {\n\t\tthis.log(aMessage, aException, LogLevel.INFO);\n\t}\n\n\tlogDebug(aMessage, aException) {\n\t\tthis.log(aMessage, aException, LogLevel.DEBUG);\n\t}\n\n\tasynclogTrace(aMessage, aException) {\n\t\tthis.log(aMessage, aException, LogLevel.TRACE);\n\t}\n\n\tasync log(aMessage, anException, aLogLevel) {\n\t\tconst name = this.name;\n\t\tconst date = new Date();\n\n\t\tsetTimeout(async () => {\n\t\t\tconst config = await this.config;\n\t\t\tif (!config.logLevel.isIncluded(aLogLevel)) return;\n\t\t\tconst { appenders } = config;\n\t\t\tfor (let appender of appenders) appender.logMessage(aMessage, anException, name, date, aLogLevel);\n\t\t}, 100);\n\t}\n}\nexport default Logger;\n","import LogLevel from \"./LogLevel\";\nimport Appender from \"./Appender\";\n\nconst DEFAULTCONFIG = {\n\tfilter: \"\",\n\tlogLevel: \"NOLOG\",\n\tappenders: [],\n};\n\nexport const loadConfig = async (config) => {\n\tif (config instanceof Array) return config;\n\telse if (typeof config === \"string\") return loadRemote(config);\n\n\tconst element = document.querySelector(\"[logging-properties]\");\n\tif (element && element.hasAttribute(\"logging-properties\")) {\n\t\tconfig = element.getAttribute(\"logging-properties\");\n\t\treturn JSON.parse(config);\n\t}\n};\n\nconst loadRemote = async (url) => {\n\tlet response = await fetch(new URL(url, location.href));\n\treturn response.json();\n};\n\nconst findConfig = (name, data) => {\n\tlet defaultConfig = DEFAULTCONFIG;\n\tlet actualConfig = defaultConfig;\n\tfor (let config of data) {\n\t\tif (isConfigActiv(name, config, actualConfig)) actualConfig = config;\n\t\telse if (!config.filter) defaultConfig = config;\n\t\tif (actualConfig != null && actualConfig.filter == name) return actualConfig;\n\t}\n\n\treturn actualConfig || defaultConfig;\n};\n\nconst isConfigActiv = (name, config, actualConfig) => {\n\tif (config && actualConfig.filter.length >= config.filter.length) return false;\n\treturn name.search(config.filter) == 0;\n};\n\nconst getAppenders = (appenders) => {\n\tconst result = [];\n\tfor (let key of appenders) {\n\t\tconst appender = Appender.getAppender(key);\n\t\tif (appender) result.push(appender);\n\t}\n\n\treturn result;\n};\n\nclass Config {\n\tconstructor(config) {\n\t\tthis.data = loadConfig(config);\n\t}\n\n\tasync loggerConfig(name) {\n\t\tconst data = await this.data;\n\t\tconst config = findConfig(name, data);\n\n\t\treturn {\n\t\t\tfilter: config.filter,\n\t\t\tlogLevel: LogLevel.lookup(config.logLevel),\n\t\t\tappenders: getAppenders(config.appenders),\n\t\t};\n\t}\n}\n\nexport default Config;\n","import Config from \"./Config\";\nimport Logger from \"./Logger\";\n\nconst LOGGERMAP = new Map();\nlet CONFIG = new Config();\nconst updateLogger = () => {\n\tfor (let [name, logger] of LOGGERMAP) logger.config = CONFIG.loggerConfig(name);\n};\n\nexport const newLogger = (name) => {\n\tif (!LOGGERMAP.has(name)) LOGGERMAP.set(name, new Logger(name, CONFIG.loggerConfig(name)));\n\n\treturn LOGGERMAP.get(name);\n};\n\nexport const config = async function(config) {\n\tif (arguments.length == 0) return CONFIG.data;\n\n\tCONFIG = new Config(await config);\n\tupdateLogger();\n};\n\nexport default { newLogger, config };\n"],"names":["__webpack_require__","exports","definition","key","o","Object","defineProperty","enumerable","get","g","globalThis","this","Function","e","window","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","dateAsString","aDate","Date","result","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","DateUtils","APPENDERS","Map","Appender","static","name","appender","set","constructor","logMessage","aMessage","anException","aLoggerName","aLogLevel","Level","aOrder","aTitle","order","title","isIncluded","NOLOG","ERROR","WARN","INFO","DEBUG","TRACE","LogLevel","lookup","aLevel","toUpperCase","INSTANCE","log","push","Array","isArray","apply","console","error","warn","info","debug","trace","register","CONTAINER","isAvailable","document","querySelector","container","entry","createElement","setAttribute","message","textContent","appendChild","GLOBAL","self","__LOG__","config","__config__","logError","aException","logWarn","logInfo","logDebug","asynclogTrace","async","date","setTimeout","logLevel","appenders","DEFAULTCONFIG","filter","isConfigActiv","actualConfig","length","search","getAppenders","getAppender","data","url","fetch","URL","location","href","json","loadRemote","element","hasAttribute","getAttribute","JSON","parse","loadConfig","defaultConfig","findConfig","LOGGERMAP","CONFIG","updateLogger","logger","loggerConfig","newLogger","has","arguments"],"sourceRoot":""}